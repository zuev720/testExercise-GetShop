(this["webpackJsonptest-exercise-getshop"]=this["webpackJsonptest-exercise-getshop"]||[]).push([[0],{34:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){"use strict";c.r(t);var n,r=c(0),a=c.n(r),i=c(16),o=c.n(i),u=(c(34),c(4)),s=c(11),l=c(10),b=Object(l.c)({name:"phoneNumber",initialState:[],reducers:{addNumber:function(e,t){e.push(t.payload)},deleteNumber:function(e,t){e.pop()}}}),d=b.actions,m=d.addNumber,f=d.deleteNumber,j=b.reducer,h=[1,2,3,4,5,6,7,8,9,"\u0441\u0442\u0435\u0440\u0435\u0442\u044c",0],O=Object(l.c)({name:"screenKeyboard",initialState:{section:"keyboards",activeElem:h[4]},reducers:{arrowRightAction:function(e){if("keyboards"===e.section)if(e.activeElem!==Number(0)){var t=h.findIndex((function(t){return t===e.activeElem}));e.activeElem=h[t+1]}else e.action="radio",e.activeElem="Radio"},arrowLeftAction:function(e){if("keyboards"===e.section&&e.activeElem!==Number(1)){var t=h.findIndex((function(t){return t===e.activeElem}));e.activeElem=h[t-1]}"cancelButton"===e.section&&(e.section="keyboards",e.activeElem=h[4])},arrowUpAction:function(e){if("keyboards"===e.section){var t=h.findIndex((function(t){return t===e.activeElem}));[4,5,6,7,8,9].includes(e.activeElem)&&(e.activeElem=h[t-3]),"\u0441\u0442\u0435\u0440\u0435\u0442\u044c"!==e.activeElem&&e.activeElem!==Number(0)||(e.activeElem=h[t-2])}"radio"===e.section&&(e.section="keyboards",e.activeElem=h[10]),"confirmNumber"===e.section&&(e.section="radio",e.activeElem="Radio")},arrowDownAction:function(e){if("keyboards"===e.section){var t=h.findIndex((function(t){return t===e.activeElem}));return"\u0441\u0442\u0435\u0440\u0435\u0442\u044c"!==e.activeElem&&e.activeElem!==Number(0)||(e.section="radio",e.activeElem="Radio"),8!==e.activeElem&&9!==e.activeElem||(e.activeElem=h[t+2]),[1,2,3,4,5,6,7].includes(e.activeElem)&&(e.activeElem=h[t+3]),e}if("radio"===e.section)return e.section="confirmNumber",void(e.activeElem="ButtonConfirmNumber");"confirmNumber"===e.section&&(e.section="cancelButton",e.activeElem="CancelButton")},setActiveElement:function(e,t){var c=t.payload,n=c.section,r=c.activeElem;e.section=n,e.activeElem=r}}}),v=O.actions,p=v.arrowRightAction,N=v.arrowLeftAction,x=v.arrowUpAction,g=v.arrowDownAction,k=v.setActiveElement,E=O.reducer,y=Object(l.c)({name:"timeVideo",initialState:Number(0),reducers:{setTimeVideo:function(e,t){return t.payload}}}),w=y.actions.setTimeVideo,C=y.reducer,A=c(14),B=c(27),S=c(20),R=c.n(S),_=Object(l.b)("requestValidNumber",function(){var e=Object(B.a)(R.a.mark((function e(t,c){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://apilayer.net/api/validate?access_key=0b20ce13fbc2618ea70e15299bfd5ce6&number=".concat(t,"&country_code=RU&format=1"));case 3:if(200===(n=e.sent).status){e.next=6;break}throw new Error("Server Error!");case 6:return e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",c(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,c){return e.apply(this,arguments)}}()),I=Object(l.c)({name:"validNumber",initialState:{data:null,status:null,error:null},reducers:{},extraReducers:(n={},Object(A.a)(n,_.pending,(function(e){e.status="loading",e.error=null})),Object(A.a)(n,_.fulfilled,(function(e,t){e.status="resolved",e.data=t.payload})),Object(A.a)(n,_.rejected,(function(e,t){e.error=t.payload,e.status="rejected"})),n)}).reducer,L=Object(s.b)({timeVideo:C,phoneNumber:j,screenKeyboard:E,validNumber:I}),K=Object(l.a)({reducer:L}),T=c(12),q=c(3),F=c(28),P=c.n(F),V=c(7),W=c(1),M=Object(r.forwardRef)((function(e,t){var c=Object(q.f)(),n=Object(u.b)(),a=Object(r.useState)("Banner"),i=Object(V.a)(a,2),o=i[0],s=i[1];Object(r.useEffect)((function(){setTimeout((function(){return s("Banner active")}),5e3)}),[o]);return Object(W.jsx)("div",{className:o,children:Object(W.jsxs)("div",{className:"bannerFrame",children:[Object(W.jsx)("h5",{className:"bannerHeader",children:"\u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043c\u0435\u0447\u0442\u0443 \u0432\u0430\u0448\u0435\u0433\u043e \u043c\u0430\u043b\u044b\u0448\u0430! \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u0435 \u0435\u043c\u0443 \u0441\u043e\u0431\u0430\u043a\u0443!"}),Object(W.jsx)("img",{className:"qr-code",src:"../qr-code.png",alt:"qr-code"}),Object(W.jsx)("p",{className:"bannerText",children:"\u0421\u043a\u0430\u043d\u0438\u0440\u0443\u0439\u0442\u0435 QR-\u043a\u043e\u0434 \u0438\u043b\u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u041e\u041a"}),Object(W.jsx)("button",{className:"bannerButton",onClick:function(){var e=t.current.getCurrentTime();n(w(Number(e.toFixed(2)))),c.push("keyboard-screen")},children:"ok"})]})})}));c(52);function D(){var e=Object(u.c)((function(e){return e.timeVideo})),t=Object(r.useRef)();return Object(W.jsxs)("div",{className:"PromoPage",children:[Object(W.jsx)(P.a,{ref:t,className:"player",width:"100%",height:"100%",url:"https://www.youtube-nocookie.com/embed/M7FIvfx5J10?start=".concat(e,"&showinfo=0&modestbranding=1&iv_load_policy=3&fs=0&controls=0"),muted:!0,playing:!0,loop:!0,controls:!1}),Object(W.jsx)(M,{ref:t})]})}c(53);function U(e){var t=Object(u.b)(),c=Object(r.useRef)(null),n=e.activeElem,a=e.phoneNumber;Object(r.useEffect)((function(){null!==c.current&&c.current.focus()}),[n]);var i=function(e){return Object(W.jsx)("button",{ref:e.elem===n?c:null,className:e.elem===n?"KeyboardKey keyActive":"KeyboardKey",onMouseOver:function(){return t(k({section:"keyboards",activeElem:e.elem}))},onMouseDown:function(){return function(e){if(t(k({section:"keyboards",activeElem:e})),"\u0441\u0442\u0435\u0440\u0435\u0442\u044c"===e)return t(f());10!==a.length&&t(m(e))}(e.elem)},children:e.elem})};return Object(W.jsx)("div",{className:"ScreenKeyboard",children:h.map((function(e){return Object(W.jsx)(i,{elem:e},e)}))})}function J(e){var t=Object(q.f)(),c=Object(u.b)(),n=Object(r.useState)(!0),a=Object(V.a)(n,2),i=a[0],o=a[1],s=Object(r.useRef)(null),l=e.activeElem,b=e.checkedAgree,d=e.phoneNumber,m=e.valid;Object(r.useEffect)((function(){b&&10===d.length&&!1!==m?o(!1):o(!0)}),[b,d.length,m]),Object(r.useEffect)((function(){null!==s.current&&s.current.focus()}),[l,i]);return Object(W.jsx)("button",{ref:"ButtonConfirmNumber"!==l||i?null:s,className:"ButtonConfirmNumber",onClick:function(){t.push("/slider")},onMouseOver:function(){i||10!==d.length||c(k({section:"confirmNumber",activeElem:"ButtonConfirmNumber"}))},disabled:i,children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043d\u043e\u043c\u0435\u0440"})}function H(e){var t=Object(r.useRef)(null),c=e.activeElem,n=e.checkedAgree,a=e.setCheckedAgree;return Object(r.useEffect)((function(){null!==t.current&&t.current.focus()}),[c]),Object(W.jsxs)("div",{className:"AgreeCheckbox",children:[Object(W.jsx)("div",{className:"inputWrapper",children:"Radio"===c?Object(W.jsx)("input",{ref:t,id:"radio",className:"radio",type:"checkbox",checked:n,onChange:function(){return a(!n)}}):Object(W.jsx)("input",{id:"radio",className:"radio",type:"checkbox",checked:n,onChange:function(){return a(!n)}})}),Object(W.jsx)("label",{className:"labelRadio",onClick:function(){return a(!n)},children:"\u0421\u043e\u0433\u043b\u0430\u0441\u0438\u0435 \u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445"})]})}function Q(e){var t=e.phoneNumber,c=e.valid,n=Object(r.useState)(""),a=Object(V.a)(n,2),i=a[0],o=a[1],u=Object(r.useState)("phone"),s=Object(V.a)(u,2),l=s[0],b=s[1];return Object(r.useEffect)((function(){!1===c&&10===t.length?b("phone phoneError"):b("phone")}),[t.length,c]),Object(r.useEffect)((function(){var e="+7(___)___-__-__";t.forEach((function(t){return e=e.replace(/_/,t)})),o(e)}),[t]),Object(W.jsx)("p",{className:l,children:i})}function z(e){var t=e.activeElem,c=e.phoneNumber,n=e.valid;return Object(W.jsxs)("div",{className:"Panel",children:[Object(W.jsx)("p",{className:"panelHeader",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043d\u043e\u043c\u0435\u0440 \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u043e\u0433\u043e \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"}),Object(W.jsx)(Q,{phoneNumber:c,valid:n}),Object(W.jsx)("p",{className:"infoText",children:"\u0438 \u0441 \u0412\u0430\u043c\u0438 \u0441\u0432\u044f\u0436\u0435\u0442\u0441\u044f \u043d\u0430\u0448 \u043c\u0435\u043d\u0435\u0436\u0434\u0435\u0440 \u0434\u043b\u044f \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0435\u0439 \u043a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u0446\u0438\u0438"}),Object(W.jsx)(U,{activeElem:t,phoneNumber:c}),!1===n&&10===c.length&&Object(W.jsx)("p",{className:"falseValid",children:"\u041d\u0435\u0432\u0435\u0440\u043d\u043e \u0432\u0432\u0435\u0434\u0451\u043d \u043d\u043e\u043c\u0435\u0440"})||Object(W.jsx)(H,{activeElem:t,checkedAgree:e.checkedAgree,setCheckedAgree:e.setCheckedAgree}),Object(W.jsx)(J,{activeElem:t,checkedAgree:e.checkedAgree,phoneNumber:c,valid:n})]})}function G(e){var t=Object(r.useRef)(null),c=e.activeElem;return Object(r.useEffect)((function(){null!==t.current&&t.current.focus()}),[c]),Object(W.jsx)(T.b,{ref:"CancelButton"===c?t:null,className:"CancelButton",to:"/"})}function X(){var e=Object(u.c)((function(e){return e.phoneNumber})),t=Object(u.c)((function(e){return e.screenKeyboard})),c=t.section,n=t.activeElem,a=Object(u.c)((function(e){return e.validNumber})),i=Object(r.useState)(!1),o=Object(V.a)(i,2),s=o[0],l=o[1],b=Object(q.f)(),d=Object(u.b)(),j=Object(r.useCallback)((function(t){if("ArrowRight"===t.key&&d(p()),"ArrowLeft"===t.key&&d(N()),"ArrowUp"===t.key&&d(x()),"ArrowDown"===t.key&&d(g()),"Enter"===t.key){if("keyboards"===c&&d("\u0441\u0442\u0435\u0440\u0435\u0442\u044c"===n?f():m(n)),"radio"===c)return l(!s);if("confirmNumber"===c&&s&&10===e.length)return b.push("/slider")}if(!isNaN(Number(t.key))&&"Space"!==t.code){if(e.length===Number(10))return;return d(k({section:"keyboards",activeElem:Number(t.key)})),void d(m(Number(t.key)))}if("Space"===t.code&&" "===t.key&&e.length>Number(0))return d(f())}),[n,s,d,b,e.length,c]),h=Object(r.useCallback)((function(){d(_(Number(e.join(""))))}),[d,e]);return Object(r.useEffect)((function(){10===e.length&&h()}),[e.length,h]),Object(r.useEffect)((function(){return document.addEventListener("keydown",j),function(){return document.removeEventListener("keydown",j)}}),[j]),Object(W.jsxs)("div",{className:"ScreenKeyboardPage",children:[Object(W.jsx)(z,{activeElem:n,phoneNumber:e,checkedAgree:s,setCheckedAgree:l,valid:a.data?a.data.valid:null}),Object(W.jsx)("div",{className:"ImageInfoBlock"}),Object(W.jsx)(G,{activeElem:n}),Object(W.jsx)("img",{className:"qrCodeInfo",src:"../qrCodeInfo.png",alt:"qr-code"})]})}c(54),c(55);function Y(){var e=Object(r.useMemo)((function(){return["../img1.png","../img2.png","../img3.png"]}),[]),t=Object(r.useState)(e[0]),c=Object(V.a)(t,2),n=c[0],a=c[1],i=Object(r.useState)("button leftWhite"),o=Object(V.a)(i,2),u=o[0],s=o[1],l=Object(r.useState)("button rightBlack"),b=Object(V.a)(l,2),d=b[0],m=b[1],f=Object(q.f)(),j=e.findIndex((function(e){return e===n})),h=e.length-1;Object(r.useEffect)((function(){j!==Number(0)?j!==h?("button rightBlack"!==d&&m("button rightBlack"),"button rightBlack"!==u&&s("button rightBlack")):"button rightWhite"!==d&&m("button rightWhite"):"button leftWhite"!==u&&s("button leftWhite")}),[u,d,h,j]);var O=Object(r.useCallback)((function(){j!==Number(0)&&a(e[j-1])}),[e,j]),v=Object(r.useCallback)((function(){j!==h&&a(e[j+1])}),[h,e,j]),p=Object(r.useCallback)((function(e){"ArrowRight"===e.key&&v(),"ArrowLeft"===e.key&&O()}),[O,v]);return Object(r.useEffect)((function(){return document.addEventListener("keydown",p),function(){return document.removeEventListener("keydown",p)}}),[p]),Object(W.jsxs)("div",{className:"SliderPage",children:[Object(W.jsx)("img",{className:"imageSlider",src:n,alt:"party"}),Object(W.jsxs)("div",{className:"arrowsBlock",children:[Object(W.jsx)("button",{className:u,onClick:O}),Object(W.jsx)("button",{className:d,onClick:v})]}),Object(W.jsx)("button",{className:"cancel",onClick:function(){return f.push("/")}})]})}var Z=function(){return Object(W.jsx)("div",{className:"App",children:Object(W.jsx)(T.a,{children:Object(W.jsx)(u.a,{store:K,children:Object(W.jsx)("div",{className:"screenWrapper",children:Object(W.jsx)("div",{className:"screen",children:Object(W.jsxs)(q.c,{children:[Object(W.jsx)(q.a,{path:"/keyboard-screen",children:Object(W.jsx)(X,{})}),Object(W.jsx)(q.a,{path:"/slider",children:Object(W.jsx)(Y,{})}),Object(W.jsx)(q.a,{path:"/",children:Object(W.jsx)(D,{})})]})})})})})})},$=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,57)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),r(e),a(e),i(e)}))};o.a.render(Object(W.jsx)(a.a.StrictMode,{children:Object(W.jsx)(Z,{})}),document.getElementById("root")),$()}},[[56,1,2]]]);
//# sourceMappingURL=main.5d7d43a1.chunk.js.map